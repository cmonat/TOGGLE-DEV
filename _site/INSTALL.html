<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="ja"><![endif]-->
<!--[if IE 7]>   <html class="no-js ie7 oldie" lang="ja"><![endif]-->
<!--[if IE 8]>   <html class="no-js ie8 oldie" lang="ja"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja"><!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>INSTALL FROM GitHub REPOSITORY</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/monokai.css">

	<script src="js/libs/modernizr-2.0.6.min.js"></script>
</head>

<body>
<div id="header-container">
	<header class="wrapper clearfix">
		<h1 id="title"><a href="http://localhost:4000">TOGGLE web site</a></h1>
		<nav>
			<ul>
				<li><a href="http://localhost:4000">Home</a></li>
				<li><a href="http://localhost:4000/README.html">README</a></li>
				<li><a href="http://localhost:4000documents.html">Documents</a></li>
			</ul>
		</nav>
	</header>
</div>

<div id="main-container">
	<div id="main" class="wrapper clearfix">
		<article>
<p>There are 3 ways to obtain TOGGLE. We recommend the first one for an install in a cluster.</p>

<h1 id="install-from-github-repository">INSTALL FROM GitHub REPOSITORY</h1>

<ul>
  <li>
    <p>Create the directory TOGGLE where you want to install TOGGLE and go into this directory</p>
  </li>
  <li>
    <p>Get the TOGGLE code Clone the git</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$git clone https://github.com/SouthGreenPlatform/TOGGLE.git .
</code></pre>
</div>
<ul>
  <li>Add the Module path to the PERL5LIB environment variable</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>export PERL5LIB=$PERL5LIB:/pathToToggle/Modules
</code></pre>
</div>
<ul>
  <li>In the same way add the TOGGLE directory to the PATH environment variable</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>export PATH=$PATH:/pathToToggle
</code></pre>
</div>

<p>Rq : you can add this to the ~/.bashrc to make it always available when you log-in.</p>

<ul>
  <li>Change the permission of the perl files in the directory TOGGLE</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /pathToToggle
$chmod 755 *pl
</code></pre>
</div>

<ul>
  <li>Modify the file /pathToToggle/Modules/localConfig.pm</li>
  <li>
    <p>Modify the shebang of perl in the begining of the script /pathToToggle/toggleGenerator.pl and onTheFly/startBlock.txt</p>
  </li>
  <li>Test the pipeline with the test data</li>
</ul>

<p>Modify the path of adaptator file in the file SNPdiscoveryPaired.config.txt</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$cutadapt
-O=10
-m=35
-q=20
--overlap=7
-u=8
#If you have a specific adaptator file, please indicate here. 
-adaptatorFile=/path/to/adaptator.txt
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /pathToToggle
$toggleGenerator.pl -c SNPdiscoveryPaired.config.txt -d DATA/testData/fastq/pairedTwoIndividusIrigin/ -r DATA/Bank/referenceIrigin.fasta -o toggleout2/
</code></pre>
</div>

<ul>
  <li>Check the good running
&gt; &gt; * No error message
&gt; &gt; * toggleOUTPUT has been created in the /tmp folder
&gt; &gt; * the data generated are good</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>tail /tmp/toggleOUTPUT/finalResults/GATKVARIANTFILTRATION.vcf

TO BE CHANGED FOR  THE FINAL VCF USING IRIGIN
</code></pre>
</div>

<ul>
  <li>Test the RNASeq pipeline with the test data</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /pathToToggle
toggleGenerator.pl -c RNASeq.config.txt -d DATA/testData/rnaseq/pairedOneIndividu/ -r DATA/Bank/referenceRnaseq.fa -g DATA/Bank/referenceRnaseq.gff3 -o toggleout/
</code></pre>
</div>

<ul>
  <li>Check the good running
&gt; &gt; * No error message
&gt; &gt; * the directory toggleout has been created
&gt; &gt; * the directory toggleout/output contain all the results
&gt; &gt; * the file toggleout/finalResults/RNASeq.accepted_hits.HTSEQCOUNT.txt has been created
&gt; &gt; * the data generated are good</li>
</ul>

<h1 id="install-from-the-docker-image">INSTALL FROM THE DOCKER IMAGE</h1>

<p>A Docker image based on Ubuntu 14.04 is available at http://bioinfo-web.mpl.ird.fr/toggle/toggle.tgz</p>

<p>If Docker is installed on your system, you can use this image:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$wget http://bioinfo-web.mpl.ird.fr/toggle/toggle.tgz
$cat toggle.tgz | docker import - toggle
$docker run -i -t toggle /bin/bash
</code></pre>
</div>

<p>You can then download your data in the container (or attach a network/local drive within). TOGGLE can be launch as for a GitHub installation.</p>

<h1 id="install-from-the-automatic-script">INSTALL FROM THE AUTOMATIC SCRIPT</h1>

<p>This script is dedicated for an installation in the user space (no admin rights required).</p>

<p>Just download it, launch it and follow the instructions.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$wget http://bioinfo-web.mpl.ird.fr/toggle/TOGGLEinstall.sh
$bash TOGGLEinstall.sh
</code></pre>
</div>

<p>Then you can launch the different scripts in the TOGGLE folder</p>

		</article>
<!--
<aside>
	<h3>aside</h3>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices.</p>
</aside>-->

	</div> <!-- #main -->
</div> <!-- #main-container -->
<div id="footer-container">
	<footer class="wrapper">
		<h3>footer</h3>
	</footer>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

<script src="js/script.js"></script>
<script>
	var _gaq=[['_setAccount','UA-20543951-2'],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<!--[if lt IE 7 ]>
	<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script>
	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
<![endif]-->
</body>
</html>